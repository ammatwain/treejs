!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports.Tree=t():e.Tree=t()}(self,function(){"use strict";var n=[,function(e,t,n){function o(t){const n={method:"GET",url:"",async:!0,success:null,failed:null,data:{},"Content-Type":"application/json; charset=utf-8"},o=Object.assign(n,t),r=new XMLHttpRequest;t=Object.entries(o.data).reduce((e,[t,n])=>(e.push(t+"="+n),e),[]).join("&");if("POST"===o.method.toUpperCase())r.open(o.method,o.url,o.async),r.setRequestHeader("Content-Type",o["Content-Type"]),r.send(t);else if("GET"===o.method.toUpperCase()){let e=o["url"];t&&(e.indexOf("?"),e+="&"+t),r.open(o.method,e,o.async),r.setRequestHeader("Content-Type",o["Content-Type"]),r.send(null)}r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){let e=r.responseText;o["Content-Type"]===n["Content-Type"]&&(e=JSON.parse(e)),o.success&&o.success(e)}else o.failed&&o.failed(r.status)}}n.r(t),n.d(t,{default:function(){return o}})},function(e,t,n){n.r(t);var o=n(3),o=n.n(o),r=n(4),r=n.n(r),s=n(5),s=n.n(s),i=n(6),i=n.n(i),d=n(7),d=n.n(d),a=n(8),a=n.n(a),n=n(9),A={};A.styleTagTransform=a(),A.setAttributes=i(),A.insert=s().bind(null,"head"),A.domAPI=r(),A.insertStyleElement=d(),o()(n.default,A);t.default=n.default&&n.default.locals?n.default.locals:void 0},function(e){var A=[];function l(e){for(var t=-1,n=0;n<A.length;n++)if(A[n].identifier===e){t=n;break}return t}function d(e,t){for(var n={},o=[],r=0;r<e.length;r++){var s=e[r],i=t.base?s[0]+t.base:s[0],d=n[i]||0,a="".concat(i," ").concat(d),i=(n[i]=d+1,l(a)),d={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};-1!==i?(A[i].references++,A[i].updater(d)):(s=function(t,e){var n=e.domAPI(e);return n.update(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer||n.update(t=e):n.remove()}}(d,t),t.byIndex=r,A.splice(r,0,{identifier:a,updater:s,references:1})),o.push(a)}return o}e.exports=function(e,s){var i=d(e=e||[],s=s||{});return function(e){e=e||[];for(var t=0;t<i.length;t++){var n=l(i[t]);A[n].references--}for(var e=d(e,s),o=0;o<i.length;o++){var r=l(i[o]);0===A[r].references&&(A[r].updater(),A.splice(r,1))}i=e}}},function(e){e.exports=function(s){var i;return"undefined"===typeof document?{update:function(){},remove:function(){}}:(i=s.insertStyleElement(s),{update:function(e){var t,n,o,r;t=i,n=s,o="",(e=e).supports&&(o+="@supports (".concat(e.supports,") {")),e.media&&(o+="@media ".concat(e.media," {")),(r="undefined"!==typeof e.layer)&&(o+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),o+=e.css,r&&(o+="}"),e.media&&(o+="}"),e.supports&&(o+="}"),(r=e.sourceMap)&&"undefined"!==typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),n.styleTagTransform(o,t,n.options)},remove:function(){var e;null!==(e=i).parentNode&&e.parentNode.removeChild(e)}})}},function(e){var n={};e.exports=function(e,t){if(!(e=function(e){if("undefined"===typeof n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e)))throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(t)}},function(e,t,n){e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},function(e){e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},function(e){e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},function(e,t,n){n.r(t);var o=n(10),o=n.n(o),r=n(11),n=n.n(r)()(o());n.push([e.id,".treejs {\n  box-sizing: border-box;\n  font-size: 14px;\n}\n.treejs *:after,\n.treejs *:before {\n  box-sizing: border-box;\n}\n.treejs > .treejs-node {\n  padding-left: 0;\n}\n.treejs .treejs-nodes {\n  list-style: none;\n  padding-left: 0px;\n  overflow: hidden;\n  transition: height 150ms ease-out, opacity 150ms ease-out;\n}\n.treejs .treejs-node {\n  cursor: pointer;\n  overflow: hidden;\n}\n.treejs .treejs-node.treejs-placeholder {\n  padding-left: 0px;\n}\n.treejs .treejs-node.treejs-placeholder:hover {\n  background-color: rgba(0, 0, 0, 0.25);\n}\n.treejs .treejs-percent {\n  display: inline-block;\n  background: linear-gradient(to right, rgba(0, 0, 0, 0.2) 50%, rgba(0, 0, 0, 0.1) 50%);\n  color: #111;\n  box-sizing: border-box;\n  border-radius: 9px;\n  border: 1px solid white;\n  text-align: center;\n  vertical-align: middle;\n  width: 100px;\n  height: 20px;\n  cursor: pointer;\n  position: relative;\n  transition: transform 150ms ease-out;\n}\n.treejs .treejs-spacer {\n  display: inline-block;\n  vertical-align: middle;\n  width: 0px;\n  height: 20px;\n  cursor: pointer;\n  position: relative;\n  transition: transform 150ms ease-out;\n}\n.treejs .treejs-switcher {\n  display: inline-block;\n  vertical-align: middle;\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  position: relative;\n  transition: transform 150ms ease-out;\n}\n.treejs .treejs-switcher:before {\n  position: absolute;\n  top: 8px;\n  left: 6px;\n  display: block;\n  content: ' ';\n  border: 4px solid transparent;\n  border-top: 4px solid rgba(0, 0, 0, 0.4);\n  transition: border-color 150ms;\n}\n.treejs .treejs-switcher:hover:before {\n  border-top: 4px solid rgba(0, 0, 0, 0.65);\n}\n.treejs .treejs-node__close > .treejs-switcher {\n  transform: rotate(-90deg);\n}\n.treejs .treejs-node__close > .treejs-nodes {\n  height: 0;\n}\n.treejs .treejs-checkbox {\n  display: inline-block;\n  vertical-align: middle;\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  position: relative;\n}\n.treejs .treejs-checkbox:before {\n  transition: all 0.3s;\n  cursor: pointer;\n  position: absolute;\n  top: 2px;\n  content: ' ';\n  display: block;\n  width: 16px;\n  height: 16px;\n  border: 1px solid #d9d9d9;\n  border-radius: 2px;\n}\n.treejs .treejs-checkbox:hover:before {\n  box-shadow: 0 0 2px 1px #1890ff;\n}\n.treejs .treejs-node__checked > .treejs-checkbox:before {\n  background-color: #1890ff;\n  border-color: #1890ff;\n}\n.treejs .treejs-node__checked > .treejs-checkbox:after {\n  position: absolute;\n  content: ' ';\n  display: block;\n  top: 4px;\n  left: 5px;\n  width: 5px;\n  height: 9px;\n  border: 2px solid #fff;\n  border-top: none;\n  border-left: none;\n  transform: rotate(45deg);\n}\n.treejs .treejs-node__halfchecked > .treejs-checkbox:before {\n  background-color: #1890ff;\n  border-color: #1890ff;\n}\n.treejs .treejs-node__halfchecked > .treejs-checkbox:after {\n  position: absolute;\n  content: ' ';\n  display: block;\n  top: 9px;\n  left: 3px;\n  width: 10px;\n  height: 2px;\n  background-color: #fff;\n}\n.treejs .treejs-node__disabled {\n  cursor: not-allowed;\n  color: rgba(0, 0, 0, 0.25);\n}\n.treejs .treejs-node__disabled .treejs-checkbox {\n  cursor: not-allowed;\n}\n.treejs .treejs-node__disabled .treejs-checkbox:before {\n  cursor: not-allowed;\n  border-color: #d9d9d9 !important;\n  background-color: #f5f5f5 !important;\n}\n.treejs .treejs-node__disabled .treejs-checkbox:hover:before {\n  box-shadow: none !important;\n}\n.treejs .treejs-node__disabled .treejs-node__checked > .treejs-checkbox:after {\n  border-color: #d9d9d9;\n}\n.treejs .treejs-node__disabled .treejs-node__halfchecked > .treejs-checkbox:after {\n  background-color: #d9d9d9;\n}\n.treejs .treejs-node__disabled.treejs-node__checked > .treejs-checkbox:after {\n  border-color: #d9d9d9;\n}\n.treejs .treejs-node__disabled.treejs-node__halfchecked > .treejs-checkbox:after {\n  background-color: #d9d9d9;\n}\n.treejs .treejs-label {\n  vertical-align: middle;\n}\n","",{version:3,sources:["webpack://./src/index.less"],names:[],mappings:"AAKA;EACE,sBAAA;EACA,eAAA;AAJF;AAEA;;EAMI,sBAAA;AAJJ;AAOE;EACE,eAAA;AALJ;AALA;EAcI,gBAAA;EAEA,iBAAA;EACA,gBAAA;EACA,yDAAA;AAPJ;AAXA;EAsBI,eAAA;EACA,gBAAA;AARJ;AAUI;EAEE,iBAAA;AATN;AAUM;EACE,qCAAA;AARR;AArBA;EAmCI,qBAAA;EACA,qFAAA;EAKA,WAAA;EACA,sBAAA;EACA,kBAAA;EACA,uBAAA;EACA,kBAAA;EACA,sBAAA;EACA,YAAA;EACA,YAAA;EACA,eAAA;EACA,kBAAA;EACA,oCAAA;AAfJ;AApCA;EAuDI,qBAAA;EACA,sBAAA;EACA,UAAA;EACA,YAAA;EACA,eAAA;EACA,kBAAA;EACA,oCAAA;AAhBJ;AA7CA;EAiEI,qBAAA;EACA,sBAAA;EACA,WAAA;EACA,YAAA;EACA,eAAA;EACA,kBAAA;EACA,oCAAA;AAjBJ;AAmBI;EACE,kBAAA;EACA,QAAA;EACA,SAAA;EACA,cAAA;EACA,YAAA;EACA,6BAAA;EACA,wCAAA;EACA,8BAAA;AAjBN;AAmBI;EACE,yCAAA;AAjBN;AAnEA;EAwFI,yBAAA;AAlBJ;AAtEA;EA2FI,SAAA;AAlBJ;AAzEA;EA+FI,qBAAA;EACA,sBAAA;EACA,WAAA;EACA,YAAA;EACA,eAAA;EACA,kBAAA;AAnBJ;AAqBI;EACE,oBAAA;EACA,eAAA;EACA,kBAAA;EACA,QAAA;EACA,YAAA;EACA,cAAA;EACA,WAAA;EACA,YAAA;EACA,yBAAA;EACA,kBAAA;AAnBN;AAqBI;EACE,+BAAA;AAnBN;AAwBM;EACE,yBAAA;EACA,qBAAA;AAtBR;AAwBM;EACE,kBAAA;EACA,YAAA;EACA,cAAA;EACA,QAAA;EACA,SAAA;EACA,UAAA;EACA,WAAA;EACA,sBAAA;EACA,gBAAA;EACA,iBAAA;EACA,wBAAA;AAtBR;AA4BM;EACE,yBAAA;EACA,qBAAA;AA1BR;AA4BM;EACE,kBAAA;EACA,YAAA;EACA,cAAA;EACA,QAAA;EACA,SAAA;EACA,WAAA;EACA,WAAA;EACA,sBAAA;AA1BR;AA/HA;EA+JI,mBAAA;EACA,0BAAA;AA7BJ;AAnIA;EAkKM,mBAAA;AA5BN;AA6BM;EACE,mBAAA;EACA,gCAAA;EACA,oCAAA;AA3BR;AA6BM;EACE,2BAAA;AA3BR;AAgCQ;EACE,qBAAA;AA9BV;AAoCQ;EACE,yBAAA;AAlCV;AAyCM;EACE,qBAAA;AAvCR;AA6CM;EACE,yBAAA;AA3CR;AA1JA;EA2MI,sBAAA;AA9CJ",sourcesContent:["@color-disable: #d4d4d4;\n@bgcolor-disable: #f5f5f5;\n@greyborder: #d9d9d9;\n@bluebg: #1890ff;\n\n.treejs {\n  box-sizing: border-box;\n  font-size: 14px;\n\n  *:after,\n  *:before {\n    box-sizing: border-box;\n  }\n\n  & > .treejs-node {\n    padding-left: 0;\n  }\n\n  .treejs-nodes {\n    list-style: none;\n//    padding-left: 20px;\n    padding-left: 0px;\n    overflow: hidden;\n    transition: height 150ms ease-out, opacity 150ms ease-out;\n  }\n\n  .treejs-node {\n    cursor: pointer;\n    overflow: hidden;\n\n    &.treejs-placeholder {\n//      padding-left: 20px;\n      padding-left: 0px;\n      &:hover{\n        background-color: rgba(0, 0, 0, 0.25);\n      }\n    }\n  }\n\n  .treejs-percent {\n    display: inline-block;\n    background: linear-gradient(\n      to right,\n      rgba(0,0,0,0.2) 50%,\n      rgba(0,0,0,0.1) 50%\n    );\n    color:#111;\n    box-sizing: border-box;\n    border-radius: 9px;\n    border: 1px solid white;\n    text-align: center;\n    vertical-align: middle;\n    width: 100px;\n    height: 20px;\n    cursor: pointer;\n    position: relative;\n    transition: transform 150ms ease-out;\n  }\n\n  .treejs-spacer {\n    display: inline-block;\n    vertical-align: middle;\n    width: 0px;\n    height: 20px;\n    cursor: pointer;\n    position: relative;\n    transition: transform 150ms ease-out;\n  }\n\n  .treejs-switcher {\n    display: inline-block;\n    vertical-align: middle;\n    width: 20px;\n    height: 20px;\n    cursor: pointer;\n    position: relative;\n    transition: transform 150ms ease-out;\n\n    &:before {\n      position: absolute;\n      top: 8px;\n      left: 6px;\n      display: block;\n      content: ' ';\n      border: 4px solid transparent;\n      border-top: 4px solid rgba(0, 0, 0, 0.4);\n      transition: border-color 150ms;\n    }\n    &:hover:before {\n      border-top: 4px solid rgba(0, 0, 0, 0.65);\n    }\n  }\n  .treejs-node__close > .treejs-switcher {\n    transform: rotate(-90deg);\n  }\n  .treejs-node__close > .treejs-nodes {\n    height: 0;\n  }\n\n  .treejs-checkbox {\n    display: inline-block;\n    vertical-align: middle;\n    width: 20px;\n    height: 20px;\n    cursor: pointer;\n    position: relative;\n\n    &:before {\n      transition: all 0.3s;\n      cursor: pointer;\n      position: absolute;\n      top: 2px;\n      content: ' ';\n      display: block;\n      width: 16px;\n      height: 16px;\n      border: 1px solid @greyborder;\n      border-radius: 2px;\n    }\n    &:hover:before {\n      box-shadow: 0 0 2px 1px @bluebg;\n    }\n  }\n  .treejs-node__checked {\n    & > .treejs-checkbox {\n      &:before {\n        background-color: @bluebg;\n        border-color: @bluebg;\n      }\n      &:after {\n        position: absolute;\n        content: ' ';\n        display: block;\n        top: 4px;\n        left: 5px;\n        width: 5px;\n        height: 9px;\n        border: 2px solid #fff;\n        border-top: none;\n        border-left: none;\n        transform: rotate(45deg);\n      }\n    }\n  }\n  .treejs-node__halfchecked {\n    & > .treejs-checkbox {\n      &:before {\n        background-color: @bluebg;\n        border-color: @bluebg;\n      }\n      &:after {\n        position: absolute;\n        content: ' ';\n        display: block;\n        top: 9px;\n        left: 3px;\n        width: 10px;\n        height: 2px;\n        background-color: #fff;\n      }\n    }\n  }\n\n  .treejs-node__disabled {\n    cursor: not-allowed;\n    color: rgba(0, 0, 0, 0.25);\n    .treejs-checkbox {\n      cursor: not-allowed;\n      &:before {\n        cursor: not-allowed;\n        border-color: @greyborder !important;\n        background-color: @bgcolor-disable !important;\n      }\n      &:hover:before {\n        box-shadow: none !important;\n      }\n    }\n    .treejs-node__checked {\n      & > .treejs-checkbox {\n        &:after {\n          border-color: @greyborder;\n        }\n      }\n    }\n    .treejs-node__halfchecked {\n      & > .treejs-checkbox {\n        &:after {\n          background-color: @greyborder;\n        }\n      }\n    }\n  }\n  .treejs-node__disabled.treejs-node__checked {\n    & > .treejs-checkbox {\n      &:after {\n        border-color: @greyborder;\n      }\n    }\n  }\n  .treejs-node__disabled.treejs-node__halfchecked {\n    & > .treejs-checkbox {\n      &:after {\n        background-color: @greyborder;\n      }\n    }\n  }\n\n  .treejs-label {\n    vertical-align: middle;\n  }\n}\n"],sourceRoot:""}]),t.default=n},function(e){e.exports=function(e){var t=e[1],e=e[3];return e?("function"===typeof btoa?(e=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e),e="/*# ".concat(e," */"),[t].concat([e])):[t]).join("\n"):t}},function(e){e.exports=function(o){var l=[];return l.toString=function(){return this.map(function(e){var t="",n="undefined"!==typeof e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),n&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=o(e),n&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},l.i=function(e,t,n,o,r){"string"===typeof e&&(e=[[null,e,void 0]]);var s={};if(n)for(var i=0;i<this.length;i++){var d=this[i][0];null!=d&&(s[d]=!0)}for(var a=0;a<e.length;a++){var A=[].concat(e[a]);n&&s[A[0]]||("undefined"!==typeof r&&("undefined"!==typeof A[5]&&(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=r),t&&(A[2]&&(A[1]="@media ".concat(A[2]," {").concat(A[1],"}")),A[2]=t),o&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=o):A[4]="".concat(o)),l.push(A))}},l}}],o={};function r(e){var t=o[e];return void 0!==t||(t=o[e]={id:e,exports:{}},n[e](t,t.exports,r)),t.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0;var e={},s=(r.r(e),r.d(e,{default:function(){return a}}),r(1));function i(e){const n={};return e.reduce((e,t)=>(n[t]||(n[t]=!0,e.push(t)),e),[])}function d(e,t){requestAnimationFrame(()=>{t.enter(),requestAnimationFrame(()=>{t.active(),setTimeout(()=>{t.leave()},e)})})}function a(e,t){this.treeNodes=[],this.nodesById={},this.leafNodesById={},this.liElementsById={},this.willUpdateNodesById={},this.container=e,this.options=Object.assign({selectMode:"checkbox",values:[],disables:[],beforeLoad:null,loaded:null,url:null,method:"GET",closeDepth:null},t),Object.defineProperties(this,{values:{get(){return this.getValues()},set(e){return this.setValues(i(e))}},disables:{get(){return this.getDisables()},set(e){return this.setDisables(i(e))}},selectedNodes:{get(){var e,t,n=[],o=this.nodesById;for(e in o)!o.hasOwnProperty(e)||1!==o[e].status&&2!==o[e].status||(delete(t=Object.assign({},o[e])).parent,delete t.children,n.push(t));return n}},disabledNodes:{get(){var e,t,n=[],o=this.nodesById;for(e in o)o.hasOwnProperty(e)&&o[e].disabled&&(delete(t=Object.assign({},o[e])).parent,n.push(t));return n}}}),this.options.url?this.load(e=>{this.init(e)}):this.init(this.options.data)}return r(2),a.prototype.init=function(e){let{treeNodes:t,nodesById:n,leafNodesById:o,defaultValues:r,defaultDisables:s}=a.parseTreeData(e);this.treeNodes=t,this.nodesById=n,this.leafNodesById=o,this.render(this.treeNodes);var{values:e,disables:i,loaded:d}=this.options;(r=e&&e.length?e:r).length&&this.setValues(r),(s=i&&i.length?i:s).length&&this.setDisables(s),d&&d.call(this)},a.prototype.load=function(n){const{url:e,method:t,beforeLoad:o}=this.options;(0,s.default)({url:e,method:t,success:e=>{let t=e;o&&(t=o(e)),n(t)}})},a.prototype.render=function(e){for(var t=a.createRootEle(),e=(t.appendChild(this.buildTree(e,0)),this.bindEvent(t),document.querySelector(this.container)),n=e;n.firstChild;)n.removeChild(n.firstChild);e.appendChild(t)},a.prototype.buildTree=function(e,o,r=0){const s=a.createUlEle();return e&&e.length&&e.forEach(e=>{var t=a.createLiEle(e,o===this.options.closeDepth-1,r);this.liElementsById[e.id]=t;let n=null;(n=e.children&&e.children.length?this.buildTree(e.children,o+1,r+1):n)&&t.appendChild(n),s.appendChild(t)}),s},a.prototype.bindEvent=function(e){e.addEventListener("click",e=>{e=e.target;"SPAN"===e.nodeName&&(e.classList.contains("treejs-checkbox")||e.classList.contains("treejs-label"))?this.onItemClick(e.parentNode.nodeId):"LI"===e.nodeName&&e.classList.contains("treejs-node")?this.onItemClick(e.nodeId):"SPAN"===e.nodeName&&(e.classList.contains("treejs-switcher")||e.classList.contains("treejs-spacer")||e.classList.contains("treejs-percent"))&&this.onSwitcherClick(e)},!1)},a.prototype.onItemClick=function(e){var t=this.nodesById[e],n=this.options["onChange"];t.disabled||(this.setValue(e),this.updateLiElements()),n&&n.call(this)},a.prototype.setValue=function(e){var t,e=this.nodesById[e];e&&(t=e.status,e.status=1===t||2===t?0:2,this.markWillUpdateNode(e),this.walkUp(e,"status"),this.walkDown(e,"status"))},a.prototype.getValues=function(){var e,t=[];for(e in this.leafNodesById)!this.leafNodesById.hasOwnProperty(e)||1!==this.leafNodesById[e].status&&2!==this.leafNodesById[e].status||t.push(e);return t},a.prototype.setValues=function(e){this.emptyNodesCheckStatus(),e.forEach(e=>{this.setValue(e)}),this.updateLiElements();e=this.options.onChange;e&&e.call(this)},a.prototype.setDisable=function(e){e=this.nodesById[e];e&&!e.disabled&&(e.disabled=!0,this.markWillUpdateNode(e),this.walkUp(e,"disabled"),this.walkDown(e,"disabled"))},a.prototype.getDisables=function(){var e,t=[];for(e in this.leafNodesById)this.leafNodesById.hasOwnProperty(e)&&this.leafNodesById[e].disabled&&t.push(e);return t},a.prototype.setDisables=function(e){this.emptyNodesDisable(),e.forEach(e=>{this.setDisable(e)}),this.updateLiElements()},a.prototype.emptyNodesCheckStatus=function(){this.willUpdateNodesById=this.getSelectedNodesById(),Object.values(this.willUpdateNodesById).forEach(e=>{e.disabled||(e.status=0)})},a.prototype.emptyNodesDisable=function(){this.willUpdateNodesById=this.getDisabledNodesById(),Object.values(this.willUpdateNodesById).forEach(e=>{e.disabled=!1})},a.prototype.getSelectedNodesById=function(){return Object.entries(this.nodesById).reduce((e,[t,n])=>(1!==n.status&&2!==n.status||(e[t]=n),e),{})},a.prototype.getDisabledNodesById=function(){return Object.entries(this.nodesById).reduce((e,[t,n])=>(n.disabled&&(e[t]=n),e),{})},a.prototype.updateLiElements=function(){Object.values(this.willUpdateNodesById).forEach(e=>{this.updateLiElement(e)}),this.willUpdateNodesById={}},a.prototype.markWillUpdateNode=function(e){this.willUpdateNodesById[e.id]=e},a.prototype.onSwitcherClick=function(e){const t=e.parentNode,n=t.lastChild,o=n.scrollHeight;t.classList.contains("treejs-node__close")?d(150,{enter(){n.style.height=0,n.style.opacity=0},active(){n.style.height=o+"px",n.style.opacity=1},leave(){n.style.height="",n.style.opacity="",t.classList.remove("treejs-node__close")}}):d(150,{enter(){n.style.height=o+"px",n.style.opacity=1},active(){n.style.height=0,n.style.opacity=0},leave(){n.style.height="",n.style.opacity="",t.classList.add("treejs-node__close")}})},a.prototype.walkUp=function(t,e){t=t.parent;if(t){if("status"===e){let e=null;var n=t.children.reduce((e,t)=>isNaN(t.status)?e:e+t.status,0);if(e=n?n===2*t.children.length?2:1:0,t.status===e)return;t.status=e}else{n=t.children.reduce((e,t)=>e&&t.disabled,!0);if(t.disabled===n)return;t.disabled=n}this.markWillUpdateNode(t),this.walkUp(t,e)}},a.prototype.walkDown=function(t,n){t.children&&t.children.length&&t.children.forEach(e=>{"status"===n&&e.disabled||(e[n]=t[n],this.markWillUpdateNode(e),this.walkDown(e,n))})},a.prototype.updateLiElement=function(e){var t=this.liElementsById[e.id]["classList"];switch(e.status){case 0:t.remove("treejs-node__halfchecked","treejs-node__checked");break;case 1:t.remove("treejs-node__checked"),t.add("treejs-node__halfchecked");break;case 2:t.remove("treejs-node__halfchecked"),t.add("treejs-node__checked")}switch(e.disabled){case!0:t.contains("treejs-node__disabled")||t.add("treejs-node__disabled");break;case!1:t.contains("treejs-node__disabled")&&t.remove("treejs-node__disabled")}},a.prototype.collapseAll=function(){var e,t=this.leafNodesById;for(e in t)!function e(t,n){try{var o=t.liElementsById[n.parent.id];o.classList.contains("treejs-node__close")||o.getElementsByClassName("treejs-switcher")[0].click()}catch(e){return}n.hasOwnProperty("parent")&&e(t,n.parent)}(this,t[e])},a.prototype.expandAll=function(){!function e(t,n){var o=t.liElementsById[n.id];if(o.classList.contains("treejs-node__close")&&o.getElementsByClassName("treejs-switcher")[0].click(),n.hasOwnProperty("children"))for(var r of n.children)e(t,r)}(this,this.treeNodes[0])},a.parseTreeData=function(e){e=JSON.parse(JSON.stringify(e));function n(e,t){e.forEach(e=>{(o[e.id]=e).checked&&s.push(e.id),e.disabled&&i.push(e.id),t&&(e.parent=t),e.children&&e.children.length?n(e.children,e):r[e.id]=e})}const o={},r={},s=[],i=[];return n(e),{treeNodes:e,nodesById:o,leafNodesById:r,defaultValues:s,defaultDisables:i}},a.createRootEle=function(){var e=document.createElement("div");return e.classList.add("treejs"),e},a.createUlEle=function(){var e=document.createElement("ul");return e.classList.add("treejs-nodes"),e},a.createLiEle=function(e,t,n){var o=document.createElement("li"),r=(o.classList.add("treejs-node"),document.createElement("span")),r=(r.innerHTML="50%",r.classList.add("treejs-percent"),o.appendChild(r),document.createElement("span")),t=(r.classList.add("treejs-spacer"),o.appendChild(r),t&&o.classList.add("treejs-node__close"),e.children&&e.children.length?(r.style.width=20*n+"px",(t=document.createElement("span")).classList.add("treejs-switcher"),o.appendChild(t)):(r.style.width=20*(n+1)+"px",o.classList.add("treejs-placeholder")),document.createElement("span")),r=(t.classList.add("treejs-checkbox"),o.appendChild(t),document.createElement("span")),n=(r.classList.add("treejs-label"),document.createTextNode(e.text));return r.appendChild(n),o.appendChild(r),o.nodeId=e.id,o},e.default});
//# sourceMappingURL=tree.min.js.map